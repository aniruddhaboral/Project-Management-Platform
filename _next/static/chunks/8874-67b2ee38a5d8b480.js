"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8874],{77575:(e,s,t)=>{t.d(s,{u:()=>f});var a=t(95155),l=t(22730),r=t(14085),i=t(7837),d=t(89282),n=t(14352),c=t(29602),o=t(12115),x=t(23800),h=t(62138),m=t(45334),u=t(76046);let f=e=>{let{title:s,triggerLabel:t,triggerBtn:f,handleSubmit:p}=e,{projectId:j}=(0,u.useParams)(),{isModalOpen:g,openModal:b,closeModal:y}=(0,n.Z)(),{can:v}=(0,m.D)({projectId:j}),N=e=>{"function"==typeof p&&(p(e),y())};return(0,a.jsxs)(i.lG,{open:g,onOpenChange:e=>!e&&y(),children:[(0,a.jsx)(i.zM,{asChild:!0,children:f?o.cloneElement(f,{onClick:b}):(null==v?void 0:v(h.kJ.UPDATE_OPTIONS))?(0,a.jsx)(r.$,{className:(0,c.cn)(l.iH),onClick:b,children:t}):null}),(0,a.jsxs)(i.Cf,{className:"max-w-96 max-h-[100vh] overflow-y-auto",children:[(0,a.jsx)(i.c7,{children:(0,a.jsx)(i.L3,{children:s})}),(0,a.jsx)(d.Separator,{className:"mb-4"}),(0,a.jsx)(x.J,{onSubmit:e=>N(e),submitBtnLabel:"Save",cancelButton:(0,a.jsx)(r.$,{className:(0,c.cn)(l.RA),onClick:y,children:"Cancel"})})]})]})}},30436:(e,s,t)=>{t.d(s,{a:()=>N});var a=t(95155),l=t(22730),r=t(7837),i=t(34534),d=t(14352),n=t(29602),c=t(91812),o=t(53561),x=t(66329);let h=(0,t(67401).A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var m=t(84858),u=t(76046),f=t(12115),p=t(54136),j=t(23800),g=t(14085),b=t(20750),y=t(47650);let v=e=>{let{color:s,label:t,description:l,hiddenDescription:r}=e;return(0,a.jsx)("div",{className:"border bg-gray-50 dark:bg-slate-900 h-[60px]",children:(0,a.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("span",{children:(0,a.jsx)(h,{className:"w-5 h-5 text-gray-400 dark:text-gray-600 cursor-grabbing"})}),(0,a.jsx)(p.n,{color:s||i.dO,label:t||""}),!r&&(0,a.jsx)("div",{className:"hidden md:inline-block text-sm truncate",children:l})]}),(0,a.jsx)(m.A,{className:"w-5 h-5 text-gray-400 dark:text-gray-600"})]})})},N=e=>{let{field:s,options:t,title:l,description:i,hiddenDescription:n,setOptions:x,embeddedCreateOptionEle:h}=e,m=(0,u.useSearchParams)(),p=(0,u.usePathname)(),j=(0,u.useRouter)(),{isModalOpen:g,openModal:b,closeModal:N}=(0,d.Z)(),[w,C]=(0,f.useState)(void 0),[S,E]=(0,f.useState)(null),D=e=>{null==x||x(s=>s.map(s=>s.id===e.id?e:s)),N(),C(void 0)},L=e=>{null==x||x(s=>s.filter(s=>s.id!==e))};return(0,f.useEffect)(()=>{let e=m.get("option_id");e&&(C(e),b())},[m]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.lG,{open:g,onOpenChange:e=>{e||(N(),j.push(p))},children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-lg py-3",children:l||"Options"}),h]}),i&&(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:i}),(0,a.jsx)("div",{className:"border rounded-sm",children:(0,a.jsxs)(c.Mp,{collisionDetection:c.fp,onDragEnd:e=>{E(null);let{active:s,over:t}=e;s.id!==(null==t?void 0:t.id)&&(null==x||x(e=>{let a=e.findIndex(e=>e.id===s.id),l=e.findIndex(e=>e.id===(null==t?void 0:t.id));return(0,o.be)(e,a,l).map((e,s)=>({...e,order:s}))}))},onDragStart:e=>{var s,t;(null===(s=e.active.data.current)||void 0===s?void 0:s.type)==="option"&&E(null===(t=e.active.data.current)||void 0===t?void 0:t.option)},children:[(0,a.jsx)(o.gB,{items:t,strategy:o._G,children:t.map((e,t)=>(0,a.jsx)(k,{field:s,item:e,selectedOptionId:w,hiddenDescription:n,closeModal:N,openModal:b,setOptionId:C,deleteOption:L,updateOption:D},e.id))}),(0,y.createPortal)((0,a.jsx)(c.Hd,{className:"border bg-white dark:bg-slate-950",children:S&&(0,a.jsx)(v,{label:S.label,color:S.color,description:S.description,hiddenDescription:n})}),document.body)]})})]})})})},k=e=>{let{field:s,item:t,selectedOptionId:d,hiddenDescription:c,closeModal:f,openModal:y,setOptionId:v,deleteOption:N,updateOption:k}=e,w=(0,u.usePathname)(),C=(0,u.useRouter)(),{attributes:S,listeners:E,setNodeRef:D,transform:L,transition:O,isDragging:z}=(0,o.gl)({id:t.id,data:{type:"option",option:t}}),A={transform:x.Ks.Translate.toString(L),transition:O},_=e=>{"function"==typeof k&&k(e)},J=e=>{"function"==typeof N&&N(e)};return z?(0,a.jsx)("div",{ref:D,style:A,className:"border bg-white dark:bg-slate-950 h-[60px]"}):(0,a.jsxs)("div",{ref:D,style:A,className:"border bg-white dark:bg-slate-950 h-[60px]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,a.jsx)("span",{...E,...S,children:(0,a.jsx)(h,{className:"w-5 h-5 text-gray-400 dark:text-gray-600 cursor-grabbing"})}),(0,a.jsx)(p.n,{color:t.color||i.dO,label:t.label||""}),!c&&(0,a.jsx)("div",{className:"hidden md:inline-block text-sm truncate",children:t.description})]}),(0,a.jsxs)(b.rI,{children:[(0,a.jsx)(b.ty,{children:(0,a.jsx)(m.A,{className:"w-5 h-5 text-gray-400 dark:text-gray-600"})}),(0,a.jsxs)(b.SQ,{children:[(0,a.jsx)(b._2,{onClick:()=>{v(t.id),y()},children:(0,a.jsx)("span",{children:"Edit"})}),(0,a.jsx)(b._2,{onClick:()=>J(t.id),children:"Delete"})]})]})]}),t.id===d&&(0,a.jsxs)(r.Cf,{className:"max-w-96 max-h-[100vh] overflow-y-auto",children:[(0,a.jsx)(r.c7,{children:(0,a.jsxs)(r.L3,{children:["Update ",s]})}),(0,a.jsx)(j.J,{color:t.color,description:t.description,label:t.label,onSubmit:e=>_({...e,id:t.id}),submitBtnLabel:"Update option",cancelButton:(0,a.jsx)(g.$,{className:(0,n.cn)(l.RA),onClick:()=>{f(),C.push(w)},children:"Cancel"})})]})]})}},54136:(e,s,t)=>{t.d(s,{n:()=>n});var a=t(95155),l=t(92686),r=t(12115),i=t(39286),d=t(67113);let n=e=>{let{color:s,label:t}=e,{theme:n}=(0,d.D)(),[c,o]=(0,r.useState)(void 0);return(0,r.useEffect)(()=>{o((0,l.um)(s,n))},[n,s]),c&&(0,a.jsx)(i.E,{style:c,children:t})}},23800:(e,s,t)=>{t.d(s,{J:()=>y});var a=t(95155),l=t(22730),r=t(34534),i=t(92686),d=t(67113),n=t(12115),c=t(26336),o=t(33565),x=t(15785),h=t(14085);let m=e=>{let{color:s,setColor:t}=e,{theme:l}=(0,d.D)();return(0,a.jsxs)("div",{className:"space-y-2 lg:flex-grow",children:[(0,a.jsx)(x.J,{children:"Color"}),(0,a.jsx)("div",{className:"flex gap-3 flex-wrap",children:r.Lc.map((e,r)=>(0,a.jsx)(h.$,{className:"w-9 h-9 p-2",style:{backgroundColor:s===e?e:(0,i.zl)(e,"light"===l?90:15)},onClick:()=>null==t?void 0:t(e),children:s===e?(0,a.jsx)(c.A,{style:{color:"white"}}):(0,a.jsx)(o.A,{style:{color:(0,i.zl)(e,"light"===l?40:70)}})},r))})]})};var u=t(39286),f=t(9955),p=t(89282),j=t(10371),g=t(29602);let b=r.Lc[1],y=e=>{let{color:s,label:t,description:r,cancelButton:c,submitBtnLabel:o,onSubmit:y}=e,[v,N]=(0,n.useState)(s||b),[k,w]=(0,n.useState)(t||""),[C,S]=(0,n.useState)(r||""),{theme:E}=(0,d.D)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsx)("div",{className:"flex justify-center p6-8",children:(0,a.jsx)(u.E,{style:(0,i.um)(v,E),children:k||"Preview"})}),(0,a.jsxs)("div",{className:"space-y-2 lg:flex-grow",children:[(0,a.jsx)(x.J,{children:"Label text *"}),(0,a.jsx)(f.p,{placeholder:"Label text",className:"h-9 dark:bg-black",value:k,onChange:e=>w(e.target.value)})]}),(0,a.jsx)(m,{color:v,setColor:N}),(0,a.jsxs)("div",{className:"space-y-2 lg:flex-grow",children:[(0,a.jsx)(x.J,{children:"Description "}),(0,a.jsx)(j.T,{placeholder:"description",className:"dark:bg-black",rows:6,value:C,onChange:e=>S(e.target.value)})]})]}),(0,a.jsx)(p.Separator,{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[c,(0,a.jsx)(h.$,{onClick:()=>{null==y||y({label:k,color:v,description:C}),N(b),w(""),S("")},className:(0,g.cn)(l.iH),disabled:!k,children:o||"Submit"})]})]})}},7837:(e,s,t)=>{t.d(s,{Cf:()=>h,Es:()=>u,L3:()=>f,c7:()=>m,lG:()=>n,rr:()=>p,zM:()=>c});var a=t(95155),l=t(12115),r=t(66217),i=t(40767),d=t(29602);let n=r.bL,c=r.l9,o=r.ZL;r.bm;let x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.hJ,{ref:s,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...l})});x.displayName=r.hJ.displayName;let h=l.forwardRef((e,s)=>{let{className:t,children:l,...n}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(x,{}),(0,a.jsxs)(r.UC,{ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950",t),...n,children:[l,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=r.UC.displayName;let m=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};m.displayName="DialogHeader";let u=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};u.displayName="DialogFooter";let f=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.hE,{ref:s,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",t),...l})});f.displayName=r.hE.displayName;let p=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.VY,{ref:s,className:(0,d.cn)("text-sm text-slate-500 dark:text-slate-400",t),...l})});p.displayName=r.VY.displayName},10371:(e,s,t)=>{t.d(s,{T:()=>i});var a=t(95155),l=t(12115),r=t(29602);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",t),ref:s,...l})});i.displayName="Textarea"},34534:(e,s,t)=>{t.d(s,{FY:()=>a,Lc:()=>l,dO:()=>r,hy:()=>i});let a=["#4c4c63","#007bff","#3182ce","#728dec","#8312fb","#b968ff","#019335","#10a566","#d53b4c","#ea4886","#ec7624","#f7b519"],l=["hsl(240, 14%, 34%)","hsl(210, 100%, 50%)","hsl(212, 66%, 50%)","hsl(226, 67%, 66%)","hsl(266, 98%, 53%)","hsl(274, 100%, 76%)","hsl(145, 98%, 29%)","hsl(156, 87%, 36%)","hsl(0, 100%, 43%)","hsl(353, 65%, 53%)","hsl(26, 87%, 54%)","hsl(45, 90%, 54%)"],r=l[0],i=l[1]},14352:(e,s,t)=>{t.d(s,{Z:()=>l});var a=t(12115);let l=()=>{let[e,s]=(0,a.useState)(!1);return{isModalOpen:e,openModal:()=>s(!0),closeModal:()=>s(!1)}}},92686:(e,s,t)=>{function a(e,s){if(s<0||s>100)throw Error("Lightness should be a percentage between 0 and 100");let t=e.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(!t)throw Error("Invalid HSL color string");let a=t[1],l=t[2];return"hsl(".concat(a,", ").concat(l,"%, ").concat(s,"%)")}t.d(s,{s_:()=>r,um:()=>l,zl:()=>a});let l=(e,s)=>({backgroundColor:a(e,"light"===s?90:15),color:a(e,"light"===s?40:70),border:"1px solid ".concat(a(e,"light"===s?60:45))});function r(e,s){let t=new Set;return e.forEach(e=>{Object.keys(e).forEach(e=>{e!==s&&t.add(e)})}),Array.from(t)}}}]);