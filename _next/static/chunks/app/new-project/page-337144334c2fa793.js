(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9143],{7828:(e,s,t)=>{Promise.resolve().then(t.bind(t,7512)),Promise.resolve().then(t.bind(t,89282))},7512:(e,s,t)=>{"use strict";t.d(s,{NewProjectForm:()=>T});var i=t(95155),r=t(14432),a=t(9955),l=t(15785),o=t(10371),n=t(12115),c=t(77575),d=t(52397),h=t(30436),u=t(14085),p=t(43670),b=t(7837),m=t(89282),x=t(79749);let j=[{id:(0,x.A)(),label:"S",description:"",color:"hsl(156, 87%, 36%)"},{id:(0,x.A)(),label:"M",description:"",color:"hsl(212, 66%, 50%)"},{id:(0,x.A)(),label:"L",description:"",color:"hsl(45, 90%, 54%)"},{id:(0,x.A)(),label:"XL",description:"",color:"hsl(274, 100%, 76%)"}],f=[{id:(0,x.A)(),label:"Backlog",description:"This item hasn't been started",color:"hsl(156, 87%, 36%)"},{id:(0,x.A)(),label:"Ready",description:"This is ready to be picked up",color:"hsl(212, 66%, 50%)"},{id:(0,x.A)(),label:"In Progress",description:"This is actively being worked on",color:"hsl(45, 90%, 54%)"},{id:(0,x.A)(),label:"In Review",description:"This item is in review",color:"hsl(274, 100%, 76%)"},{id:(0,x.A)(),label:"Done",description:"This has been completed",color:"hsl(26, 87%, 54%)"}],g=[{id:(0,x.A)(),label:"P0",description:"",color:"hsl(353, 65%, 53%)"},{id:(0,x.A)(),label:"P1",description:"",color:"hsl(26, 87%, 54%)"},{id:(0,x.A)(),label:"P2",description:"",color:"hsl(45, 90%, 54%)"},{id:(0,x.A)(),label:"P3",description:"",color:"hsl(212, 66%, 50%)"}],w=[{id:(0,x.A)(),label:"enhancement",description:"New feature or request",color:"#728dec"},{id:(0,x.A)(),label:"bug",description:"Something isn't working.",color:"#dc3a48"},{id:(0,x.A)(),label:"documentation",description:"Improvements or additions to documentation",color:"#007ad4"},{id:(0,x.A)(),label:"duplicate",description:"This feature already exists",color:"#4c4c63"},{id:(0,x.A)(),label:"good first issue",description:"Good for beginners",color:"#7158fe"},{id:(0,x.A)(),label:"help wanted",description:"Extra attention is needed",color:"#008975"},{id:(0,x.A)(),label:"invalid",description:"This doesn't seem right",color:"#e6e367"},{id:(0,x.A)(),label:"question",description:"Further information is requested",color:"#d07adc"},{id:(0,x.A)(),label:"wontfix",description:"This will not be worked on",color:"#4c4c63"}];var v=t(14352),A=t(29602),N=t(33473),y=t(22730),k=t(8773),S=t(76046),C=t(49297),E=t(89134),P=t(94457);let O=e=>{let{projectDetails:s}=e,{isModalOpen:t,openModal:r,closeModal:a}=(0,v.Z)(),o=(0,S.useRouter)(),{toast:O}=(0,E.dj)(),[T,D]=(0,n.useState)(f),[z,L]=(0,n.useState)(j),[R,I]=(0,n.useState)(g),[_,M]=(0,n.useState)(w),[B,J]=(0,n.useState)(!1),[q,F]=(0,n.useState)(!1),[$,G]=(0,n.useState)(!1),H=(0,i.jsxs)(u.$,{className:(0,A.cn)(y.RA,"h-7 px-2 rounded-sm mr-2"),children:[(0,i.jsx)(N.A,{className:"w-4 h-4 mr-1"}),"New"]}),Z=(e,s)=>{switch(s){case"sizes":L([...z,{id:(0,x.A)(),...e}]);break;case"priorities":I([...R,{id:(0,x.A)(),...e}]);break;case"statuses":D([...T,{id:(0,x.A)(),...e}])}},U=e=>{M([..._,e]),J(!1)},V=async()=>{try{G(!0);let e=(0,P.U)(),{data:{session:t}}=await e.auth.getSession();if(!t)throw Error("Not authenticated");let i={...s,...q?{}:{statuses:T,sizes:z,priorities:R,labels:_}},r=await C.d.management.create(i,t.user.id);O({title:"Success",description:"Project created successfully"}),a(),o.push("/projects/".concat(r.id))}catch(e){console.error("Error creating project:",e),O({variant:"destructive",title:"Error",description:e instanceof Error?e.message:"Failed to create project. Please try again."})}finally{G(!1)}};return(0,i.jsxs)(b.lG,{open:t,onOpenChange:e=>!e&&a(),children:[(0,i.jsx)(b.zM,{onClick:r,className:(0,A.cn)(y.iH,"w-28 flex items-center justify-center","disabled:cursor-not-allowed disabled:opacity-40"),disabled:!s.name,children:"Continue"}),(0,i.jsxs)(b.Cf,{className:"md:min-w-[90%] lg:min-w-[70%] max-h-screen overflow-auto",children:[(0,i.jsx)(b.c7,{children:(0,i.jsx)(b.L3,{children:s.name})}),(0,i.jsx)(b.rr,{children:"Customize default options for your project."}),(0,i.jsx)(m.Separator,{}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-h-[600px] overflow-y-auto p-2",children:[(0,i.jsx)(h.a,{title:"Sizes",field:"size",options:z,setOptions:L,hiddenDescription:!0,embeddedCreateOptionEle:(0,i.jsx)(c.u,{title:"Create new size option",handleSubmit:e=>Z(e,"sizes"),triggerBtn:H,action:"create-new-project"})}),(0,i.jsx)(h.a,{title:"Priorities",field:"priority",options:R,setOptions:I,hiddenDescription:!0,embeddedCreateOptionEle:(0,i.jsx)(c.u,{title:"Create new priority option",handleSubmit:e=>Z(e,"priorities"),triggerBtn:H,action:"create-new-project"})}),(0,i.jsx)(h.a,{title:"Columns",field:"status",options:T,setOptions:D,hiddenDescription:!0,embeddedCreateOptionEle:(0,i.jsx)(c.u,{title:"Create new status option",handleSubmit:e=>Z(e,"statuses"),triggerBtn:H,action:"create-new-project"})}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h1",{className:"text-lg py-3",children:"Labels"}),(0,i.jsxs)(u.$,{onClick:()=>J(!0),className:(0,A.cn)(y.RA,"h-7 px-2 rounded-sm mr-2"),children:[(0,i.jsx)(N.A,{className:"w-4 h-4 mr-1"}),"New"]})]}),B&&(0,i.jsx)(d.Y,{save:e=>U(e),cancel:()=>J(!1)}),(0,i.jsx)("div",{className:"rounded border",children:(0,i.jsx)(k.Z,{labels:_,hiddenDescription:!0,onLabelDeleted:e=>{M(_.filter(s=>s.id!==e))}})})]})]}),(0,i.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,i.jsx)(p.S,{checked:q,onClick:()=>F(!q)}),(0,i.jsx)(l.J,{children:"Skip Default options. I will create my own options"})]}),(0,i.jsx)(b.Es,{children:(0,i.jsx)("div",{className:"flex justify-end",children:(0,i.jsx)(u.$,{onClick:V,className:(0,A.cn)(y.iH,"w-28"),disabled:$,children:$?"Creating...":"Create"})})})]})]})};function T(){let[e,s]=(0,n.useState)(""),[t,c]=(0,n.useState)(""),[d,h]=(0,n.useState)("");return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-1 max-w-96",children:[(0,i.jsx)(l.J,{className:"text-xs",children:"Project name"}),(0,i.jsx)(a.p,{placeholder:"Name of project",value:e,onChange:e=>s(e.currentTarget.value)})]}),(0,i.jsxs)("div",{className:"space-y-1 max-w-[28rem]",children:[(0,i.jsx)(l.J,{className:"text-xs",children:"Short description"}),(0,i.jsx)(o.T,{value:t,onChange:e=>c(e.currentTarget.value),placeholder:"A short description about this project",rows:8})]}),(0,i.jsxs)("div",{className:"space-y-1 max-w-[40rem]",children:[(0,i.jsx)(l.J,{className:"text-xs",children:"README"}),(0,i.jsx)(r.A,{content:"",onChange:e=>h(e),isEditable:!0})]}),(0,i.jsx)("div",{className:"flex",children:(0,i.jsx)(O,{projectDetails:{name:e,description:t,readme:d}})})]})}},43670:(e,s,t)=>{"use strict";t.d(s,{S:()=>n});var i=t(95155),r=t(12115),a=t(86352),l=t(98867),o=t(29602);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,i.jsx)(a.bL,{ref:s,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-slate-200 border-slate-900 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-slate-900 data-[state=checked]:text-slate-50 dark:border-slate-800 dark:border-slate-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=checked]:bg-slate-50 dark:data-[state=checked]:text-slate-900",t),...r,children:(0,i.jsx)(a.C1,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,i.jsx)(l.A,{className:"h-4 w-4"})})})});n.displayName=a.bL.displayName},33473:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(67401).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},99827:(e,s,t)=>{"use strict";t.d(s,{v:()=>n});var i=t(12115);let r=e=>{let s;let t=new Set,i=(e,i)=>{let r="function"==typeof e?e(s):e;if(!Object.is(r,s)){let e=s;s=(null!=i?i:"object"!=typeof r||null===r)?r:Object.assign({},s,r),t.forEach(t=>t(s,e))}},r=()=>s,a={setState:i,getState:r,getInitialState:()=>l,subscribe:e=>(t.add(e),()=>t.delete(e))},l=s=e(i,r,a);return a},a=e=>e?r(e):r,l=e=>e,o=e=>{let s=a(e),t=e=>(function(e,s=l){let t=i.useSyncExternalStore(e.subscribe,()=>s(e.getState()),()=>s(e.getInitialState()));return i.useDebugValue(t),t})(s,e);return Object.assign(t,s),t},n=e=>e?o(e):o}},e=>{var s=s=>e(e.s=s);e.O(0,[5004,277,2265,5382,1931,4843,4266,547,3401,7374,4916,2556,3121,8874,4432,8773,8441,1517,7358],()=>s(7828)),_N_E=e.O()}]);