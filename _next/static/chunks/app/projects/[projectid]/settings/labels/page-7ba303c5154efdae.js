(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9470],{91671:(e,t,a)=>{Promise.resolve().then(a.bind(a,8798)),Promise.resolve().then(a.bind(a,79198))},79198:(e,t,a)=>{"use strict";a.d(t,{SettingsLayout:()=>y});var s=a(95155),r=a(14085),l=a(89282),n=a(56870),o=a(62138),i=a(45334),c=a(29602),d=a(68236),p=a(92823),u=a(34380),m=a(5414),x=a(4073),h=a(82392),f=a(87364),g=a(8926),j=a(86710),v=a(67396),b=a(76046);let N=[{label:"Project settings",link:"/settings",icon:(0,s.jsx)(d.A,{className:"h-4 w-4"}),minRole:"admin"},{label:"Manage access",link:"/settings/access",icon:(0,s.jsx)(p.A,{className:"h-4 w-4"}),minRole:"admin"},"separator",{label:"Label",link:"/settings/labels",icon:(0,s.jsx)(u.A,{className:"h-4 w-4"}),minRole:"admin"},{label:"Status",link:"/settings/statuses",icon:(0,s.jsx)(m.A,{className:"h-4 w-4"}),minRole:"admin"},{label:"Priority",link:"/settings/priorities",icon:(0,s.jsx)(x.A,{className:"h-4 w-4"}),minRole:"admin"},{label:"Size",link:"/settings/sizes",icon:(0,s.jsx)(h.A,{className:"h-4 w-4"}),minRole:"admin"}],y=e=>{let{title:t,children:a}=e,d=(0,b.usePathname)(),p=(0,b.useParams)(),{can:u}=(0,i.D)({projectId:p.projectId});return(0,s.jsxs)("div",{className:"grid h-minus-80 w-full md:grid-cols-[220px_1fr] lg:grid-cols-[280px_1fr]",children:[(0,s.jsx)("div",{className:"hidden border-r 0 md:block",children:(0,s.jsxs)("div",{className:"flex h-full max-h-screen flex-col gap-2",children:[(0,s.jsxs)("div",{className:"flex h-14 items-center border-b px-4 lg:h-[60px] lg:px-6 dark:bg-gray-950",children:[(0,s.jsx)(v.default,{href:"/projects/".concat(p.projectId),className:"flex items-center gap-2 font-semibold",children:(0,s.jsx)(f.A,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"mx-2",children:"Settings"}),u(o.kJ.VIEW_SETTINGS)&&(0,s.jsx)(v.default,{href:"/projects/".concat(p.projectId,"/insights"),className:"ml-auto",children:(0,s.jsx)(r.$,{title:"Insights",variant:"outline",size:"icon",className:"ml-auto h-8 w-8",children:(0,s.jsx)(g.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})})]}),(0,s.jsx)("div",{className:"flex-1 ",children:(0,s.jsx)("nav",{className:"grid items-start px-2 text-sm font-medium lg:px-4",children:N.map((e,t)=>"separator"===e?(0,s.jsx)(l.Separator,{className:"my-2"},t):u(o.kJ.UPDATE_OPTIONS)?(0,s.jsxs)(v.default,{href:"/projects/".concat(p.projectId).concat(e.link),className:(0,c.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary",d==="/projects/".concat(p.projectId).concat(e.link)?"bg-muted  text-gray-800 dark:text-gray-200":""),children:[e.icon,e.label]},e.link):(0,s.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground px-3 py-2",title:"You do not have permission to access ".concat(e.label),children:[e.icon,e.label]},e.link))})})]})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("header",{className:"flex h-14 items-center gap-4 border-b px-4 lg:h-[60px] lg:px-6 dark:bg-gray-950",children:[(0,s.jsxs)(n.cj,{children:[(0,s.jsx)(n.CG,{asChild:!0,children:(0,s.jsxs)(r.$,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",children:[(0,s.jsx)(j.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,s.jsxs)(n.h,{side:"left",className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex h-14 items-center border-b px-4 lg:h-[60px] lg:px-6 ",children:[(0,s.jsx)(v.default,{href:"/projects/".concat(p.projectId),className:"flex items-center gap-2 font-semibold",children:(0,s.jsx)(f.A,{className:"h-4 w-4"})}),(0,s.jsx)("span",{className:"mx-2",children:"Settings"}),u(o.kJ.VIEW_SETTINGS)&&(0,s.jsx)(v.default,{href:"/projects/".concat(p.projectId,"/insights"),className:"ml-auto",children:(0,s.jsx)(r.$,{title:"Insights",variant:"outline",size:"icon",className:"ml-auto h-8 w-8",children:(0,s.jsx)(g.A,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})})]}),(0,s.jsx)("nav",{className:"grid gap-2 text-lg font-medium",children:N.map((e,t)=>"separator"===e?(0,s.jsx)(l.Separator,{className:"my-2"},t):u(o.kJ.VIEW_SETTINGS)?(0,s.jsxs)(v.default,{href:"/projects/".concat(p.projectId).concat(e.link),className:(0,c.cn)("mx-[-0.65rem] flex items-center gap-4 rounded-xl px-3 py-1 text-muted-foreground hover:text-foreground",d==="/projects/".concat(p.projectId).concat(e.link)?"bg-muted  text-gray-800 dark:text-gray-200":""),children:[e.icon,e.label]},e.link):(0,s.jsxs)("div",{className:"flex items-center gap-3 text-muted-foreground px-3 py-2",title:"You do not have permission to access ".concat(e.label),children:[e.icon,e.label]},e.link))})]})]}),(0,s.jsx)("h1",{className:"text-lg font-semibold md:text-xl",children:t})]}),(0,s.jsx)("main",{children:(0,s.jsx)("div",{className:"h-full p-10",children:a})})]})]})}},8798:(e,t,a)=>{"use strict";a.d(t,{LabelsContainer:()=>f});var s=a(95155),r=a(22730),l=a(52397),n=a(14085),o=a(89134),i=a(62138),c=a(45334),d=a(48748),p=a(29602),u=a(94457),m=a(12115);let x=e=>{let{projectId:t,onLabelCreated:a}=e,{reloadLabels:x,reloadProjectTasks:h}=(0,d.J)(t),{can:f}=(0,c.D)({projectId:t}),[g,j]=(0,m.useState)(!1),[v,b]=(0,m.useState)(!1),{toast:N}=(0,o.dj)(),y=(0,u.U)(),w=async e=>{try{b(!0);let s={...e,id:crypto.randomUUID(),project_id:t,updated_at:new Date},{error:r}=await y.from("labels").insert(s);if(r)throw r;null==a||a(s),N({title:"Success",description:"Label created successfully"}),j(!1),await x(),await h()}catch(e){console.error("Error creating label:",e),N({variant:"destructive",title:"Error",description:"Failed to create label"})}finally{b(!1)}};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex justify-end py-4",children:(null==f?void 0:f(i.kJ.UPDATE_OPTIONS))?(0,s.jsx)(n.$,{className:(0,p.cn)(r.iH),onClick:()=>j(!0),children:"New label"}):null}),g&&(0,s.jsx)(l.Y,{cancel:()=>j(!1),save:w,isSubmitting:v})]})};var h=a(8773);let f=e=>{let{projectId:t,initialLabels:a}=e,[r,l]=(0,m.useState)(a);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{projectId:t,onLabelCreated:e=>{l(t=>[...t,e])}}),(0,s.jsxs)("div",{className:"rounded-md border overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-muted dark:bg-muted/20 flex justify-between items-center px-4 py-4 border-b",children:(0,s.jsx)("div",{children:(0,s.jsxs)("span",{className:"text-xs",children:[r.length," labels"]})})}),(0,s.jsx)(h.Z,{labels:r,onLabelUpdated:e=>{l(t=>t.map(t=>t.id===e.id?e:t))},onLabelDeleted:e=>{l(t=>t.filter(t=>t.id!==e))}})]})]})}},56870:(e,t,a)=>{"use strict";a.d(t,{CG:()=>d,Fm:()=>h,Qs:()=>g,cj:()=>c,h:()=>x,qp:()=>f});var s=a(95155),r=a(12115),l=a(66217),n=a(31027),o=a(40767),i=a(29602);let c=l.bL,d=l.l9;l.bm;let p=l.ZL,u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});u.displayName=l.hJ.displayName;let m=(0,n.F)("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 dark:bg-slate-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=r.forwardRef((e,t)=>{let{side:a="right",className:r,children:n,...c}=e;return(0,s.jsxs)(p,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,i.cn)(m({side:a}),r),...c,children:[n,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800",children:[(0,s.jsx)(o.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};h.displayName="SheetHeader";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold text-slate-950 dark:text-slate-50",a),...r})});f.displayName=l.hE.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,i.cn)("text-sm text-slate-500 dark:text-slate-400",a),...r})});g.displayName=l.VY.displayName},34534:(e,t,a)=>{"use strict";a.d(t,{FY:()=>s,Lc:()=>r,dO:()=>l,hy:()=>n});let s=["#4c4c63","#007bff","#3182ce","#728dec","#8312fb","#b968ff","#019335","#10a566","#d53b4c","#ea4886","#ec7624","#f7b519"],r=["hsl(240, 14%, 34%)","hsl(210, 100%, 50%)","hsl(212, 66%, 50%)","hsl(226, 67%, 66%)","hsl(266, 98%, 53%)","hsl(274, 100%, 76%)","hsl(145, 98%, 29%)","hsl(156, 87%, 36%)","hsl(0, 100%, 43%)","hsl(353, 65%, 53%)","hsl(26, 87%, 54%)","hsl(45, 90%, 54%)"],l=r[0],n=r[1]},84858:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(67401).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},46195:(e,t,a)=>{"use strict";a.d(t,{b:()=>o});var s=a(12115),r=a(23360),l=a(95155),n=s.forwardRef((e,t)=>(0,l.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var o=n},80532:(e,t,a)=>{"use strict";a.d(t,{UC:()=>Y,ZL:()=>V,bL:()=>J,l9:()=>M});var s=a(12115),r=a(93610),l=a(88068),n=a(18166),o=a(73741),i=a(62292),c=a(20196),d=a(67668),p=a(98188),u=a(17323),m=a(17028),x=a(23360),h=a(12317),f=a(1488),g=a(15587),j=a(64065),v=a(95155),b="Popover",[N,y]=(0,n.A)(b,[p.Bk]),w=(0,p.Bk)(),[k,C]=N(b),P=e=>{let{__scopePopover:t,children:a,open:r,defaultOpen:l,onOpenChange:n,modal:o=!1}=e,i=w(t),c=s.useRef(null),[u,m]=s.useState(!1),[x=!1,h]=(0,f.i)({prop:r,defaultProp:l,onChange:n});return(0,v.jsx)(p.bL,{...i,children:(0,v.jsx)(k,{scope:t,contentId:(0,d.B)(),triggerRef:c,open:x,onOpenChange:h,onOpenToggle:s.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:u,onCustomAnchorAdd:s.useCallback(()=>m(!0),[]),onCustomAnchorRemove:s.useCallback(()=>m(!1),[]),modal:o,children:a})})};P.displayName=b;var A="PopoverAnchor";s.forwardRef((e,t)=>{let{__scopePopover:a,...r}=e,l=C(A,a),n=w(a),{onCustomAnchorAdd:o,onCustomAnchorRemove:i}=l;return s.useEffect(()=>(o(),()=>i()),[o,i]),(0,v.jsx)(p.Mz,{...n,...r,ref:t})}).displayName=A;var R="PopoverTrigger",I=s.forwardRef((e,t)=>{let{__scopePopover:a,...s}=e,n=C(R,a),o=w(a),i=(0,l.s)(t,n.triggerRef),c=(0,v.jsx)(x.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":G(n.open),...s,ref:i,onClick:(0,r.m)(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?c:(0,v.jsx)(p.Mz,{asChild:!0,...o,children:c})});I.displayName=R;var E="PopoverPortal",[_,S]=N(E,{forceMount:void 0}),D=e=>{let{__scopePopover:t,forceMount:a,children:s,container:r}=e,l=C(E,t);return(0,v.jsx)(_,{scope:t,forceMount:a,children:(0,v.jsx)(m.C,{present:a||l.open,children:(0,v.jsx)(u.Z,{asChild:!0,container:r,children:s})})})};D.displayName=E;var O="PopoverContent",F=s.forwardRef((e,t)=>{let a=S(O,e.__scopePopover),{forceMount:s=a.forceMount,...r}=e,l=C(O,e.__scopePopover);return(0,v.jsx)(m.C,{present:s||l.open,children:l.modal?(0,v.jsx)(L,{...r,ref:t}):(0,v.jsx)(T,{...r,ref:t})})});F.displayName=O;var L=s.forwardRef((e,t)=>{let a=C(O,e.__scopePopover),n=s.useRef(null),o=(0,l.s)(t,n),i=s.useRef(!1);return s.useEffect(()=>{let e=n.current;if(e)return(0,g.Eq)(e)},[]),(0,v.jsx)(j.A,{as:h.DX,allowPinchZoom:!0,children:(0,v.jsx)(U,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.m)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),i.current||null===(t=a.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,r.m)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey,s=2===t.button||a;i.current=s},{checkForDefaultPrevented:!1}),onFocusOutside:(0,r.m)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),T=s.forwardRef((e,t)=>{let a=C(O,e.__scopePopover),r=s.useRef(!1),l=s.useRef(!1);return(0,v.jsx)(U,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,n;null===(s=e.onCloseAutoFocus)||void 0===s||s.call(e,t),t.defaultPrevented||(r.current||null===(n=a.triggerRef.current)||void 0===n||n.focus(),t.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:t=>{var s,n;null===(s=e.onInteractOutside)||void 0===s||s.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(l.current=!0));let o=t.target;(null===(n=a.triggerRef.current)||void 0===n?void 0:n.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),U=s.forwardRef((e,t)=>{let{__scopePopover:a,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:l,disableOutsidePointerEvents:n,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:x,...h}=e,f=C(O,a),g=w(a);return(0,i.Oh)(),(0,v.jsx)(c.n,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:l,children:(0,v.jsx)(o.qW,{asChild:!0,disableOutsidePointerEvents:n,onInteractOutside:x,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onDismiss:()=>f.onOpenChange(!1),children:(0,v.jsx)(p.UC,{"data-state":G(f.open),role:"dialog",id:f.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),z="PopoverClose";function G(e){return e?"open":"closed"}s.forwardRef((e,t)=>{let{__scopePopover:a,...s}=e,l=C(z,a);return(0,v.jsx)(x.sG.button,{type:"button",...s,ref:t,onClick:(0,r.m)(e.onClick,()=>l.onOpenChange(!1))})}).displayName=z,s.forwardRef((e,t)=>{let{__scopePopover:a,...s}=e,r=w(a);return(0,v.jsx)(p.i3,{...r,...s,ref:t})}).displayName="PopoverArrow";var J=P,M=I,V=D,Y=F}},e=>{var t=t=>e(e.s=t);e.O(0,[2265,5382,4839,1931,4843,4266,547,662,2556,3121,8773,8441,1517,7358],()=>t(91671)),_N_E=e.O()}]);