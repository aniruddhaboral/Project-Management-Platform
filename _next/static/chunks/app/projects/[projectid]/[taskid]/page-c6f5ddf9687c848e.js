(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7317],{10073:(e,t,r)=>{Promise.resolve().then(r.bind(r,59468))},22730:(e,t,r)=>{"use strict";r.d(t,{Hn:()=>o,RA:()=>a,_Q:()=>s,iH:()=>n});let a="\n  h-8\n  rounded-sm\n  border\n  bg-gray-100\n  border-gray-200\n  text-gray-500\n  hover:bg-gray-200\n  hover:border-gray-300\n  dark:text-gray-300\n  dark:bg-gray-800\n  dark:border-gray-700\n  dark:hover:bg-gray-900\n  dark:hover:border-gray-800\n  ",n="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-sm h-8",o="bg-blue-500 text-white hover:bg-blue-600",s="text-red-400 hover:bg-red-100 hover:text-red-700 hover:border hover:border-red-200 dark:text-red-600 dark:hover:bg-red-950 dark:hover:text-red-300 dark:hover:border-red-900"},59468:(e,t,r)=>{"use strict";r.d(t,{TaskDetailsWrapper:()=>p});var a=r(95155),n=r(89134),o=r(48748),s=r(76046),i=r(58680),d=r(89282),c=r(33375),l=r(12115),u=r(87800),m=r(55589);let f=e=>{var t,r,n,o,s;let{task:f}=e,{setSelectedTask:p}=(0,i.H)();return(0,l.useEffect)(()=>{p(f)},[f]),(0,a.jsxs)("div",{className:"container py-4",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)(m.V,{title:(null==f?void 0:f.title)||"",taskId:(null==f?void 0:f.id)||"",hideCopyLink:!0})}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-left text-sm text-gray-500 dark:text-gray-400 w-fit my-2",children:[(0,a.jsx)(c.q,{id:(null==f?void 0:null===(t=f.creator)||void 0===t?void 0:t.id)||"",name:(null==f?void 0:null===(r=f.creator)||void 0===r?void 0:r.name)||"",avatarUrl:(null==f?void 0:null===(n=f.creator)||void 0===n?void 0:n.avatar)||"",description:(null==f?void 0:null===(o=f.creator)||void 0===o?void 0:o.description)||"",links:(null==f?void 0:null===(s=f.creator)||void 0===s?void 0:s.links)||[],avatarStyles:"w-6 h-6"}),(0,a.jsxs)("span",{children:["created this task on ",new Date((null==f?void 0:f.created_at)||"").toDateString()]})]}),(0,a.jsx)(d.Separator,{className:"my-3"}),(0,a.jsx)(u.U,{})]})},p=e=>{let{task:t}=e,{projectId:r}=(0,s.useParams)(),{reloadProjectTasks:d}=(0,o.J)(r),c=async(e,t)=>{try{("labels"in t||"size"in t||"priority"in t)&&await d()}catch(e){console.error("Error updating task:",e),(0,n.oR)({variant:"destructive",title:"Error",description:"Failed to update task"})}};return(0,a.jsx)(i.j,{onTaskUpdate:c,children:(0,a.jsx)(f,{task:t})})}},14085:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>d});var a=r(95155),n=r(12115),o=r(12317),s=r(31027),i=r(29602);let d=(0,s.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:c=!1,...l}=e,u=c?o.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:n,size:s,className:r})),ref:t,...l})});c.displayName="Button"},9955:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var a=r(95155),n=r(12115),o=r(29602);let s=n.forwardRef((e,t)=>{let{className:r,type:n,...s}=e;return(0,a.jsx)("input",{type:n,className:(0,o.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...s})});s.displayName="Input"},89134:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m,oR:()=>u});var a=r(12115);let n=0,o=new Map,s=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],c={toasts:[]};function l(e){c=i(c,e),d.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>l({type:"DISMISS_TOAST",toastId:r});return l({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(c);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},29602:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var a=r(43463),n=r(69795);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}},84858:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},49297:(e,t,r)=>{"use strict";r.d(t,{d:()=>n});let a=(0,r(94457).U)(),n={management:{create:async(e,t)=>{try{let{data:r,error:n}=await a.from("projects").insert({name:e.name,description:e.description,readme:e.readme,created_by:t,updated_at:new Date,closed:!1}).select().single();if(n)throw n;if(e.statuses){let{error:t}=await a.from("statuses").insert(e.statuses.map((e,t)=>({...e,project_id:r.id,order:t,limit:5,updated_at:new Date})));if(t)throw t}if(e.labels){let{error:t}=await a.from("labels").insert(e.labels.map(e=>({...e,project_id:r.id,updated_at:new Date})));if(t)throw t}if(e.priorities){let{error:t}=await a.from("priorities").insert(e.priorities.map(e=>({...e,project_id:r.id,updated_at:new Date})));if(t)throw t}if(e.sizes){let{error:t}=await a.from("sizes").insert(e.sizes.map(e=>({...e,project_id:r.id,updated_at:new Date})));if(t)throw t}return r}catch(e){throw e}},update:async(e,t)=>{let{error:r}=await a.from("projects").update({...t,updated_at:new Date}).eq("id",e);if(r)throw r},delete:async e=>{let{error:t}=await a.from("projects").delete().eq("id",e);if(t)throw t},close:async e=>{let{error:t}=await a.from("projects").update({closed:!0,updated_at:new Date}).eq("id",e);if(t)throw t},reopen:async e=>{let{error:t}=await a.from("projects").update({closed:!1,updated_at:new Date}).eq("id",e);if(t)throw t}},fields:{getStatuses:async e=>{let{data:t,error:r}=await a.from("statuses").select("*").eq("project_id",e).order("order");if(r)throw r;return t},getLabels:async e=>{let{data:t,error:r}=await a.from("labels").select("*").eq("project_id",e);if(r)throw r;return t},getPriorities:async e=>{let{data:t,error:r}=await a.from("priorities").select("*").eq("project_id",e).order("order");if(r)throw r;return t},getSizes:async e=>{let{data:t,error:r}=await a.from("sizes").select("*").eq("project_id",e).order("order");if(r)throw r;return t}},members:{getAll:async e=>{let{data:t,error:r}=await a.from("project_members").select("\n          user:users (\n            id,\n            name,\n            avatar,\n            description,\n            links\n          )\n        ").eq("project_id",e);if(r)throw r;return t.map(e=>e.user)},getProjectOwner:async e=>{let{data:t,error:r}=await a.from("projects").select("\n          creator:created_by (\n            id,\n            name,\n            email,\n            avatar,\n            description,\n            links,\n            created_at,\n            updated_at\n          )\n        ").eq("id",e).single();if(r)throw r;if(!(null==t?void 0:t.creator))return null;let n=t.creator;return{id:n.id,name:n.name,email:n.email,avatar:n.avatar,description:n.description,links:n.links,created_at:n.created_at,updated_at:n.updated_at}}},getUserProjects:async e=>{let[t,r]=await Promise.all([a.from("projects").select("*").eq("created_by",e).order("created_at",{ascending:!1}),a.from("project_members").select("\n          project:projects (*) \n        ").eq("user_id",e).eq("invitationStatus","accepted").order("created_at",{ascending:!1}).not("project.created_by","eq",e)]);if(t.error)throw t.error;if(r.error)throw r.error;return[...t.data,...r.data.map(e=>e.project)]}}},94457:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});var a=r(95382);let n=()=>(0,a.createBrowserClient)("https://odwydhaqevttdqexyfdw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9kd3lkaGFxZXZ0dGRxZXh5ZmR3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYyNTQwMDcsImV4cCI6MjA3MTgzMDAwN30.iTpgn3KmQbthonggnzc1Qur9jLQ-LNl30G3oLvAs10w")},46195:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var a=r(12115),n=r(23360),o=r(95155),s=a.forwardRef((e,t)=>(0,o.jsx)(n.sG.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var i=s},67113:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,N:()=>l});var a=r(12115),n=["light","dark"],o="(prefers-color-scheme: dark)",s="undefined"==typeof window,i=a.createContext(void 0),d={setTheme:e=>{},themes:[]},c=()=>{var e;return null!=(e=a.useContext(i))?e:d},l=e=>a.useContext(i)?e.children:a.createElement(m,{...e}),u=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:r=!1,enableSystem:s=!0,enableColorScheme:d=!0,storageKey:c="theme",themes:l=u,defaultTheme:m=s?"system":"light",attribute:g="data-theme",value:y,children:b,nonce:w}=e,[x,k]=a.useState(()=>p(c,m)),[_,S]=a.useState(()=>p(c)),j=y?Object.values(y):l,T=a.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=v());let a=y?y[t]:t,o=r?h():null,i=document.documentElement;if("class"===g?(i.classList.remove(...j),a&&i.classList.add(a)):a?i.setAttribute(g,a):i.removeAttribute(g),d){let e=n.includes(m)?m:null,r=n.includes(t)?t:e;i.style.colorScheme=r}null==o||o()},[]),E=a.useCallback(e=>{let t="function"==typeof e?e(e):e;k(t);try{localStorage.setItem(c,t)}catch(e){}},[t]),I=a.useCallback(e=>{S(v(e)),"system"===x&&s&&!t&&T("system")},[x,t]);a.useEffect(()=>{let e=window.matchMedia(o);return e.addListener(I),I(e),()=>e.removeListener(I)},[I]),a.useEffect(()=>{let e=e=>{e.key===c&&E(e.newValue||m)};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[E]),a.useEffect(()=>{T(null!=t?t:x)},[t,x]);let D=a.useMemo(()=>({theme:x,setTheme:E,forcedTheme:t,resolvedTheme:"system"===x?_:x,themes:s?[...l,"system"]:l,systemTheme:s?_:void 0}),[x,E,t,_,s,l]);return a.createElement(i.Provider,{value:D},a.createElement(f,{forcedTheme:t,disableTransitionOnChange:r,enableSystem:s,enableColorScheme:d,storageKey:c,themes:l,defaultTheme:m,attribute:g,value:y,children:b,attrs:j,nonce:w}),b)},f=a.memo(e=>{let{forcedTheme:t,storageKey:r,attribute:s,enableSystem:i,enableColorScheme:d,defaultTheme:c,value:l,attrs:u,nonce:m}=e,f="system"===c,p="class"===s?"var d=document.documentElement,c=d.classList;".concat("c.remove(".concat(u.map(e=>"'".concat(e,"'")).join(","),")"),";"):"var d=document.documentElement,n='".concat(s,"',s='setAttribute';"),h=d?(n.includes(c)?c:null)?"if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'".concat(c,"'"):"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=l?l[e]:e,o=t?e+"|| ''":"'".concat(a,"'"),i="";return d&&r&&!t&&n.includes(e)&&(i+="d.style.colorScheme = '".concat(e,"';")),"class"===s?t||a?i+="c.add(".concat(o,")"):i+="null":a&&(i+="d[s](n,".concat(o,")")),i},g=t?"!function(){".concat(p).concat(v(t),"}()"):i?"!function(){try{".concat(p,"var e=localStorage.getItem('").concat(r,"');if('system'===e||(!e&&").concat(f,")){var t='").concat(o,"',m=window.matchMedia(t);if(m.media!==t||m.matches){").concat(v("dark"),"}else{").concat(v("light"),"}}else if(e){").concat(l?"var x=".concat(JSON.stringify(l),";"):"").concat(v(l?"x[e]":"e",!0),"}").concat(f?"":"else{"+v(c,!1,!1)+"}").concat(h,"}catch(e){}}()"):"!function(){try{".concat(p,"var e=localStorage.getItem('").concat(r,"');if(e){").concat(l?"var x=".concat(JSON.stringify(l),";"):"").concat(v(l?"x[e]":"e",!0),"}else{").concat(v(c,!1,!1),";}").concat(h,"}catch(t){}}();");return a.createElement("script",{nonce:m,dangerouslySetInnerHTML:{__html:g}})}),p=(e,t)=>{let r;if(!s){try{r=localStorage.getItem(e)||void 0}catch(e){}return r||t}},h=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},v=e=>(e||(e=window.matchMedia(o)),e.matches?"dark":"light")}},e=>{var t=t=>e(e.s=t);e.O(0,[5004,277,2265,5382,4839,1931,4843,4266,547,7374,4916,5361,3121,4432,4620,8441,1517,7358],()=>t(10073)),_N_E=e.O()}]);